<!DOCTYPE html>
<html>

<head>
    <title>Scatter Plot</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: white;
        }

        #scatterContainer {
            display: flex;
            /* Layout horizontal */
            width: 700px;
            /* Ukuran card yang lebih besar */
            background-color: #1a1a1b;
            /* Warna background card */
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        #scatterOptions {
            flex: 1;
            /* Bagian pilihan atribut akan memanjang sesuai sisa ruang */
            padding-right: 20px;
        }

        select {
            padding: 8px;
            font-size: 16px;
            margin-bottom: 15px;
            width: 100%;
            background-color: #D9D9D9;
        }

        canvas {
            border: 1px solid #ddd;
            border-radius: 5px;
            flex: 2;
            /* Bagian plot akan memanjang lebih banyak */
            background-color: #fff;
        }

        #button_ {
            background-color: #B6A8DB;
            width: 200px;
            height: 30px;
            margin-top: 130px;
            margin-left: 30px;
        }
    </style>
</head>

<body>
    <div id="scatterContainer">
        <div id="scatterOptions">
            <div>
                <label for="xAxis" style="color: white;">Pilih atribut untuk sumbu X:</label>
                <select id="xAxis" onchange="updateChart()">
                    <option value="age">Usia</option>
                    <option value="weight">Berat</option>
                    <!-- Tambahkan pilihan atribut lainnya di sini -->
                </select>
            </div>

            <div>
                <label for="yAxis" style="color: white;">Pilih atribut untuk sumbu Y:</label>
                <select id="yAxis" onchange="updateChart()">
                    <option value="height">Tinggi</option>
                    <option value="income">Pendapatan</option>
                    <!-- Tambahkan pilihan atribut lainnya di sini -->
                </select>
            </div>
            <button id="button_">button</button>
        </div>

        <div style="text-align: center;">
            <canvas id="scatterChart" width="400" height="400"></canvas> <!-- Ukuran canvas plot -->
        </div>
    </div>

    <script>
        // Data dummy yang lebih lengkap
        const data = [
            { age: 25, weight: 50, height: 160, income: 30000 },
            { age: 25, weight: 50, height: 160, income: 35000 },
            { age: 26, weight: 50, height: 160, income: 35000 },
            { age: 27, weight: 56, height: 163, income: 35000 },
            { age: 30, weight: 60, height: 165, income: 40000 },
            { age: 35, weight: 55, height: 170, income: 35000 },
            { age: 40, weight: 65, height: 175, income: 45000 },
            { age: 45, weight: 70, height: 180, income: 50000 },
            // Tambahkan data lainnya di sini
            { age: 50, weight: 75, height: 185, income: 55000 },
            { age: 55, weight: 80, height: 190, income: 60000 },
            { age: 60, weight: 85, height: 195, income: 65000 },
            { age: 65, weight: 90, height: 200, income: 70000 },
            { age: 70, weight: 95, height: 205, income: 75000 }
            // Data tambahan untuk perbandingan
        ];

        let scatterChart;

        function updateChart() {
            const xAxis = document.getElementById('xAxis').value;
            const yAxis = document.getElementById('yAxis').value;

            const labels = data.map(entry => entry[xAxis]);
            const values = data.map(entry => entry[yAxis]);

            if (scatterChart) {
                scatterChart.destroy();
            }

            const ctx = document.getElementById('scatterChart').getContext('2d');

            const datasets = [];
            const uniqueValues = [...new Set(values)]; // Ambil nilai unik untuk menentukan rentang
            uniqueValues.forEach((val, index) => {
                const filteredData = data.filter(entry => entry[yAxis] === val);
                const plotColor = getColorByIndex(index); // Fungsi untuk mendapatkan warna berdasarkan indeks
                datasets.push({
                    label: `${yAxis} vs ${xAxis} (${val})`,
                    data: filteredData.map(entry => ({ x: entry[xAxis], y: entry[yAxis] })),
                    backgroundColor: plotColor,
                    borderColor: 'rgba(54, 162, 235, 1)',
                    borderWidth: 1
                });
            });

            scatterChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    labels: labels,
                    datasets: datasets
                },
                options: {
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom'
                        },
                        y: {
                            type: 'linear',
                            position: 'left'
                        }
                    }
                }
            });
        }

        function getColorByIndex(index) {
            const colors = [
                '#FF5733', '#33FF57', '#5733FF', '#33BFFF', '#FF33BF',
                '#33FFBF', '#FFC733', '#337CFF', '#FF33C7', '#7CFF33'
                // Kamu bisa menambahkan lebih banyak warna sesuai kebutuhan
            ];
            return colors[index % colors.length]; // Loop jika indeks lebih besar dari jumlah warna yang tersedia
        }

        // Inisialisasi grafik pada halaman pertama kali dimuat
        updateChart();
    </script>
</body>

</html>